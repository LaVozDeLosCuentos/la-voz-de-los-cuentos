window.dataLayer=window.dataLayer||[];function c(){dataLayer.push(arguments)}c("js",new Date);c("config","G-PXYY4HM36E");var m=function(){c("consent","update",{analytics_storage:"granted"}),localStorage.setItem("cookieConsent","granted"),document.querySelector(".cookie-consent").style.display="none"},y=function(){localStorage.setItem("cookieConsent","rejected"),document.querySelector(".cookie-consent").style.display="none"};document.querySelector(".cookie-consent-button").addEventListener("click",()=>{m()});document.querySelector(".cookie-consent-reject-button").addEventListener("click",()=>{y()});document.addEventListener("DOMContentLoaded",function(){localStorage.getItem("cookieConsent")||(document.querySelector(".cookie-consent").style.display="block")});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("ServiceWorker registration successful with scope: ",t.scope)},t=>{console.log("ServiceWorker registration failed: ",t)})});let e=!1;document.getElementById("hamburger-menu").addEventListener("click",g);document.getElementById("nav-list").classList.toggle("main-header__nav-list--open",e);function g(){e=!e,document.getElementById("nav-list").classList.toggle("main-header__nav-list--open",e),document.getElementById("backdrop").classList.toggle("backdrop--visible",e),document.body.classList.toggle("no-scroll",e)}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("newsletter-form-footer"),l=document.getElementById("email-footer"),a=document.getElementById("email-error-footer"),i=document.getElementById("success-message-footer"),n=document.getElementById("error-message-footer"),d=document.getElementById("newsletter-footer");t.addEventListener("submit",async s=>{s.preventDefault();const r=l.value.trim();if(a.style.display="none",n.style.display="none",!u(r)){a.style.display="block";return}try{const o=await fetch("https://script.google.com/macros/s/AKfycbxzhVGv1wPrLwYU9Inq0Pbx9Bm76LBl8RX9oyWSdaEcaCWyschEyNgJbMNS8XUYj7Pi/exec",{method:"POST",body:JSON.stringify({email:r}),headers:{"Content-Type":"text/plain;charset=utf-8"}});if(!o.ok)throw new Error("Network response was not ok");(await o.json()).result==="success"?(d.style.display="none",i.style.display="block"):n.style.display="block"}catch(o){console.error("Error:",o),n.style.display="block"}});function u(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(s).toLowerCase())}});
