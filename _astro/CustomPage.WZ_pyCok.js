import{r as m,g as h,c as S,w as s,o as l,f as i,a as o,e as t,b as a,d as c,h as V,v as y,p as x,i as k}from"./runtime-dom.esm-bundler.BPZR5SMm.js";import{_ as C,D as B,A,a as D}from"./_plugin-vue_export-helper.C5XeIz0c.js";/* empty css                        */const I={__name:"CustomPage",setup(p,{expose:n}){n();const d=m(1),e=m({name:"",story:"",email:"",receiveAll:!0}),f=m(!1),v=m(!1),u=m(!1),r=()=>{d.value<4&&d.value++},g={currentStep:d,form:e,loading:f,successMessage:v,errorMessage:u,nextStep:r,prevStep:()=>{d.value>1&&d.value--},submitFormWithoutSubscription:()=>{e.value.receiveAll=!1},submitForm:async()=>{r(),f.value=!0,v.value=!1,u.value=!1;try{(await fetch("https://script.google.com/macros/s/AKfycbyXxWrBmQDXCDIg5v-bc4YnkDU5YHu43a8HeGVNdoknYDK50bBnLg9gcAbP4Myw14lr/exec",{method:"POST",body:JSON.stringify(e.value),headers:{"Content-Type":"text/plain;charset=utf-8"}})).ok?v.value=!0:u.value=!0}catch{u.value=!0}finally{f.value=!1}},ref:m,get VButton(){return B},get VInput(){return A},get VContainer(){return D}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},_=p=>(x("data-v-d3fcc091"),p=p(),k(),p),N={key:0,class:"custom-page-step"},M=_(()=>t("h2",null,"Nombre del protagonista",-1)),T={class:"custom-page-step__buttons"},w={key:1,class:"custom-page-step"},F=_(()=>t("h2",null,[a(" ¿De qué va el cuento? "),t("span",{class:"custom-page-mandatory"},"*")],-1)),P={class:"custom-page-step__buttons"},O={key:2,class:"custom-page-step"},U=_(()=>t("h2",null,"¿Dónde enviarlo?",-1)),W={class:"custom-page-step__buttons"},E={key:3,class:"custom-page-step"},Y={class:"custom-page-step__buttons"},j={key:4,class:"custom-page-loader"},q=_(()=>t("p",null,"Enviando tu petición de cuento mágico...",-1)),z=[q],H={key:5,class:"custom-page-success-message"},K=_(()=>t("p",null,"¡Tu petición se ha enviado con éxito y nos pondremos a ello pronto!",-1)),L=[K],Q={key:6,class:"custom-page-error-message"},X=_(()=>t("p",null," Lo sentimos, hubo un error al crear tu cuento. Por favor, intenta de nuevo. ",-1)),G=[X];function J(p,n,d,e,f,v){const u=h("VText");return l(),S(e.VContainer,{size:"xs",class:"custom-page"},{default:s(()=>[e.currentStep===1?(l(),i("div",N,[M,o(e.VInput,{"aria-label":"Input para el nombre del protagonista",type:"text",modelValue:e.form.name,"onUpdate:modelValue":n[0]||(n[0]=r=>e.form.name=r)},null,8,["modelValue"]),t("div",T,[o(e.VButton,{onClick:e.nextStep,disabled:!e.form.name},{default:s(()=>[a("Siguiente")]),_:1},8,["disabled"])])])):c("",!0),e.currentStep===2?(l(),i("div",w,[F,V(t("textarea",{"aria-label":"Area de texto para describir el cuento","onUpdate:modelValue":n[1]||(n[1]=r=>e.form.story=r),required:""},null,512),[[y,e.form.story]]),t("div",P,[o(e.VButton,{onClick:e.prevStep},{default:s(()=>[a("Anterior")]),_:1}),o(e.VButton,{onClick:e.nextStep,disabled:!e.form.story},{default:s(()=>[a("Siguiente")]),_:1},8,["disabled"])])])):c("",!0),e.currentStep===3?(l(),i("div",O,[U,o(e.VInput,{"aria-label":"Email para enviar el cuento",type:"email",modelValue:e.form.email,"onUpdate:modelValue":n[2]||(n[2]=r=>e.form.email=r),placeholder:"ejemplo@email.com"},null,8,["modelValue"]),t("div",W,[o(e.VButton,{onClick:e.prevStep},{default:s(()=>[a("Anterior")]),_:1}),o(e.VButton,{onClick:e.nextStep,disabled:!e.form.email||e.form.email.indexOf("@")===-1||e.form.email.indexOf(".")===-1},{default:s(()=>[a("Siguiente")]),_:1},8,["disabled"])])])):c("",!0),e.currentStep===4&&!e.loading&&!e.successMessage?(l(),i("div",E,[o(u,null,{default:s(()=>[a("Te enviaremos el cuento al correo electrónico, ¿Quieres suscribirte también a la Newsletter Mensual?")]),_:1}),t("div",Y,[o(e.VButton,{onClick:e.submitForm},{default:s(()=>[a("Sí")]),_:1}),o(e.VButton,{onClick:e.submitFormWithoutSubscription},{default:s(()=>[a("No")]),_:1})])])):c("",!0),e.loading?(l(),i("div",j,z)):c("",!0),e.successMessage?(l(),i("div",H,L)):c("",!0),e.errorMessage?(l(),i("div",Q,G)):c("",!0)]),_:1})}const se=C(I,[["render",J],["__scopeId","data-v-d3fcc091"]]);export{se as default};
