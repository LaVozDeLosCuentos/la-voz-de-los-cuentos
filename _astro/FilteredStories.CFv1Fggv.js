import{t as H}from"./index.UG-AuQ2Z.js";import{_ as S,z as I,a as z,D as A,A as P}from"./_plugin-vue_export-helper.41V5Xjgf.js";import{u as k,B as j}from"./Basic.D_wfO0a8.js";import{t as N}from"./index.4V_ePJKA.js";/* empty css                           */import{o,f as y,a as i,w as s,b as l,t as d,n as v,l as F,r as V,m as L,e as Q,F as O,j as B,d as x,c as f}from"./runtime-dom.esm-bundler.C4veuAXy.js";import{u as b}from"./useStories.DGnA7VKD.js";/* empty css                           */const q={__name:"Plain",props:{story:{type:Object,default:{}}},setup(_,{expose:a}){a();const r=_,{getTime:e,getSaga:n}=k(r.story),c=e(),t=n(),m={props:r,getTime:e,getSaga:n,time:c,saga:t,get toStory(){return N},get VText(){return I},get useStory(){return k}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},E=["href"];function U(_,a,r,e,n,c){return o(),y("a",{class:"plain-card",href:e.toStory(r.story.key)},[i(e.VText,{ellipsis:"",class:"plain-card__element"},{default:s(()=>[l(d(r.story.name),1)]),_:1}),i(e.VText,{ellipsis:"",class:"plain-card__element"},{default:s(()=>[l(d(e.saga),1)]),_:1}),i(e.VText,{ellipsis:"",class:"plain-card__element"},{default:s(()=>[l(d(e.time),1)]),_:1})],8,E)}const G=S(q,[["render",U],["__scopeId","data-v-ad90a6a8"]]),J={__name:"ListIcon",props:{active:{type:Boolean,default:!1}},setup(_,{expose:a}){a();const r={};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},K=F('<g data-v-98dac262><g data-v-98dac262><path d="M232.1,198.4L232.1,198.4L232.1,198.4L232.1,198.4z" data-v-98dac262></path><path d="M81.1,24.9H25.2c-8.4,0-15.2,6.8-15.2,15.2v55.9c0,8.4,6.8,15.2,15.2,15.2h55.9c8.4,0,15.2-6.8,15.2-15.2V40.2C96.4,31.8,89.5,24.9,81.1,24.9 M81.8,40.2v55.9c0,0.4-0.3,0.7-0.7,0.7H25.3c-0.4,0-0.7-0.3-0.7-0.7V40.2c0-0.4,0.3-0.7,0.7-0.7h55.9C81.5,39.5,81.8,39.8,81.8,40.2" data-v-98dac262></path><path d="M81.1,144.7H25.2c-8.4,0-15.2,6.8-15.2,15.2v55.9c0,8.4,6.8,15.2,15.2,15.2h55.9c8.4,0,15.2-6.8,15.2-15.2v-55.9C96.4,151.5,89.5,144.7,81.1,144.7 M81.8,159.9v55.9c0,0.4-0.3,0.7-0.7,0.7H25.3c-0.4,0-0.7-0.3-0.7-0.7v-55.9c0-0.4,0.3-0.7,0.7-0.7h55.9C81.5,159.2,81.8,159.5,81.8,159.9" data-v-98dac262></path><path d="M130.3,45.2c0.2,0.1,0.5,0.2,0.7,0.2h0.5c0.1,0,0.3,0,0.4,0h106c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0h0.4c0.2,0,0.4-0.1,0.6-0.2c3.5-0.6,6-3.6,6-7.1c0-3.4-2.5-6.4-5.9-7c-0.2-0.2-0.5-0.3-0.8-0.3H131c-0.3,0-0.5,0.1-0.7,0.3c-3.3,0.7-5.8,3.6-5.8,7C124.5,41.6,126.9,44.5,130.3,45.2" data-v-98dac262></path><path d="M130.2,99c0.2,0.2,0.5,0.3,0.8,0.3h107.8c0.3,0,0.5-0.1,0.7-0.3c3.4-0.6,5.9-3.6,5.9-7c0-3.5-2.6-6.5-6-7.1c-0.2-0.1-0.4-0.2-0.6-0.2l-0.2,0c-0.2,0-0.4,0-0.7,0l-105.8,0c-0.2,0-0.4,0-0.7,0H131c-0.2,0-0.4,0.1-0.7,0.2c-3.4,0.7-5.9,3.6-5.9,7C124.5,95.4,126.9,98.3,130.2,99" data-v-98dac262></path><path d="M130.2,170.9c0.2,0.2,0.5,0.3,0.8,0.3h107.8c0.1,0,0.2,0,0.3,0c3.8-0.2,6.9-3.3,6.9-7.3c0-4-3.3-7.3-7.3-7.3c0,0-0.1,0-0.2,0H131.9c-0.1,0-0.2,0-0.4,0H131c-0.2,0-0.5,0.1-0.7,0.2c-3.4,0.7-5.9,3.6-5.9,7C124.5,167.3,126.9,170.1,130.2,170.9" data-v-98dac262></path><path d="M239.2,204.6c-0.1,0-0.3-0.1-0.5-0.1H131c-0.3,0-0.6,0.1-0.7,0.3c-3.3,0.7-5.8,3.6-5.8,7c0,3.4,2.5,6.4,5.9,7c0.2,0.1,0.4,0.2,0.6,0.2l0.2,0c0.1,0,0.2,0,0.7,0l106.3,0c0.1,0,0.4,0.1,0.5,0.1c4,0,7.3-3.3,7.3-7.3C246,208,243,204.9,239.2,204.6" data-v-98dac262></path></g></g>',1),R=[K];function W(_,a,r,e,n,c){return o(),y("svg",{class:v(["list-icon",{"list-icon--active":r.active}]),xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 256 256","enable-background":"new 0 0 256 256","xml:space":"preserve"},R,2)}const X=S(J,[["render",W],["__scopeId","data-v-98dac262"]]),Y={__name:"FilteredStories",setup(_,{expose:a}){a();const{getAllStories:r}=b(),e=r(),n=V(""),c=V("date"),t=V("asc"),m=V(!1),M=u=>{c.value===u?w():c.value=u},w=()=>{t.value=t.value==="asc"?"desc":"asc"},D=()=>{m.value=!m.value},T=L(()=>{let u=e;if(n.value){const p=n.value.toLowerCase();u=u.filter(g=>g.name.toLowerCase().includes(p))}return u.slice().sort((p,g)=>{let h=0;return c.value==="date"?h=new Date(p.date)-new Date(g.date):c.value==="time"?h=parseInt(p.time)-parseInt(g.time):c.value==="name"&&(h=p.name.localeCompare(g.name)),t.value==="asc"?h:-h})}),C={getAllStories:r,stories:e,searchQuery:n,sortOrder:c,sortDirection:t,isListView:m,setSortOrder:M,toggleSortDirection:w,toggleViewMode:D,filteredAndSortedStories:T,get t(){return H},get VContainer(){return z},get VButton(){return A},get VText(){return I},get VInput(){return P},ref:V,computed:L,BasicCard:j,PlainCard:G,ListIcon:X,get useStories(){return b}};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}},Z={class:"sections-filtered"};function $(_,a,r,e,n,c){return o(),y("div",Z,[i(e.VContainer,{class:"sections-filtered__search-bar",size:"xs"},{default:s(()=>[i(e.VInput,{type:"text",modelValue:e.searchQuery,"onUpdate:modelValue":a[0]||(a[0]=t=>e.searchQuery=t),placeholder:e.t("page.stories.searcher.placeholder"),class:"search-input"},null,8,["modelValue","placeholder"])]),_:1}),i(e.VContainer,{class:"sections-filtered__bar",size:"xs"},{default:s(()=>[i(e.VButton,{variant:"text",class:v({active:e.sortOrder==="date"}),onClick:a[1]||(a[1]=t=>e.setSortOrder("date"))},{default:s(()=>[l(d(e.t("page.stories.order.date"))+" ",1),e.sortOrder==="date"?(o(),f(e.VText,{key:0},{default:s(()=>[l(d(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):x("",!0)]),_:1},8,["class"]),i(e.VButton,{variant:"text",class:v({active:e.sortOrder==="time"}),onClick:a[2]||(a[2]=t=>e.setSortOrder("time"))},{default:s(()=>[l(d(e.t("page.stories.order.duration"))+" ",1),e.sortOrder==="time"?(o(),f(e.VText,{key:0},{default:s(()=>[l(d(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):x("",!0)]),_:1},8,["class"]),i(e.VButton,{variant:"text",class:v({active:e.sortOrder==="name"}),onClick:a[3]||(a[3]=t=>e.setSortOrder("name"))},{default:s(()=>[l(d(e.t("page.stories.order.name"))+" ",1),e.sortOrder==="name"?(o(),f(e.VText,{key:0},{default:s(()=>[l(d(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):x("",!0)]),_:1},8,["class"]),i(e.VButton,{"aria-label":e.t("page.stories.changeview"),variant:"text",class:v({active:e.isListView}),onClick:e.toggleViewMode},{default:s(()=>[i(e.ListIcon,{active:!e.isListView},null,8,["active"])]),_:1},8,["aria-label","class"])]),_:1}),Q("div",{class:v(["sections-filtered__content",{"list-view":e.isListView}])},[e.isListView?x("",!0):(o(!0),y(O,{key:0},B(e.filteredAndSortedStories,t=>(o(),f(e.BasicCard,{as:"h2",slug:t.key,key:t.key,title:t.name,time:parseInt(t.time),isStory:""},null,8,["slug","title","time"]))),128)),e.isListView?(o(),f(e.VContainer,{key:1,class:"sections-filtered__content-list"},{default:s(()=>[(o(!0),y(O,null,B(e.filteredAndSortedStories,t=>(o(),f(e.PlainCard,{key:t.key,story:t},null,8,["story"]))),128))]),_:1})):x("",!0)],2)])}const ne=S(Y,[["render",$],["__scopeId","data-v-593fae17"]]);export{ne as default};
