import{g,u as n}from"./Basic.C1ZMgGE4.js";import{r as S}from"./runtime-dom.esm-bundler.D67iFI9Q.js";const i=g();function y(){const s=S([...i].sort((t,e)=>new Date(t.date)-new Date(e.date)));return{getFirstStory:()=>s.value[0],getLastStory:()=>s.value[s.value.length-1],getRandomStory:()=>{const t=Math.floor(Math.random()*s.value.length);return s.value[t]},getAllStories:()=>s.value,getStoriesByPage:(t,e)=>{const r=(t-1)*e,a=r+e;return s.value.slice(r,a)},getLastNStories:t=>s.value.slice(-t),getRelatedStories:t=>{const e=s.value.filter(r=>r.saga===t.saga&&r.key!==t.key);if(e.length<10){const r=10-e.length,a=s.value.filter(o=>o.saga!==t.saga&&Math.abs(parseInt(o.time)-parseInt(t.time))<=50&&o.key!==t.key).sort((o,l)=>Math.abs(o.time-t.time)-Math.abs(l.time-t.time)).slice(0,r);return[...e,...a]}return e.slice(0,10)},getCompleteStories:()=>i.filter(t=>{const{isComplete:e}=n(t);return e()}),getPendingStories:()=>i.filter(t=>{const{isComplete:e}=n(t);return!e()}),getFavoriteStories:()=>(JSON.parse(localStorage?.getItem("storiesData"))||[]).filter(t=>t.like)}}export{y as u};
