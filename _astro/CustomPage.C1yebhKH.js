import{r as m,g as b,c as S,w as s,o as l,d as c,a as o,e as t,b as a,f as i,h as V,v as y,p as x,i as k}from"./runtime-dom.esm-bundler.CLHyqRja.js";import{_ as C,D as B,A as D,a as N}from"./_plugin-vue_export-helper.BeEKGKz9.js";/* empty css                        */const A={__name:"CustomPage",setup(p,{expose:n}){n();const d=m(1),e=m({name:"",story:"",email:"",receiveAll:!0}),f=m(!1),v=m(!1),u=m(!1),r=()=>{d.value<4&&d.value++},g={currentStep:d,form:e,loading:f,successMessage:v,errorMessage:u,nextStep:r,prevStep:()=>{d.value>1&&d.value--},submitFormWithoutSubscription:()=>{e.value.receiveAll=!1},submitForm:async()=>{r(),f.value=!0,v.value=!1,u.value=!1;try{(await fetch("https://script.google.com/macros/s/AKfycbyXxWrBmQDXCDIg5v-bc4YnkDU5YHu43a8HeGVNdoknYDK50bBnLg9gcAbP4Myw14lr/exec",{method:"POST",body:JSON.stringify(e.value),headers:{"Content-Type":"text/plain;charset=utf-8"}})).ok?v.value=!0:u.value=!0}catch{u.value=!0}finally{f.value=!1}},ref:m,get VButton(){return B},get VInput(){return D},get VContainer(){return N}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},_=p=>(x("data-v-2939f7ce"),p=p(),k(),p),I={key:0,class:"custom-page-step"},M=_(()=>t("h2",null,"Nombre del protagonista",-1)),T={class:"custom-page-step__buttons"},w={key:1,class:"custom-page-step"},F=_(()=>t("h2",null,[a(" ¿De qué va el cuento? "),t("span",{class:"custom-page-mandatory"},"*")],-1)),P={class:"custom-page-step__buttons"},O={key:2,class:"custom-page-step"},U=_(()=>t("h2",null,"¿Dónde enviarlo?",-1)),W={class:"custom-page-step__buttons"},Y={key:3,class:"custom-page-step"},j={class:"custom-page-step__buttons"},q={key:4,class:"custom-page-loader"},z=_(()=>t("p",null,"Enviando tu petición de cuento mágico...",-1)),E=[z],H={key:5,class:"custom-page-success-message"},K=_(()=>t("p",null,"¡Tu petición se ha enviado con éxito y nos pondremos a ello pronto!",-1)),L=[K],Q={key:6,class:"custom-page-error-message"},X=_(()=>t("p",null," Lo sentimos, hubo un error al crear tu cuento. Por favor, intenta de nuevo. ",-1)),G=[X];function J(p,n,d,e,f,v){const u=b("VText");return l(),S(e.VContainer,{size:"xs",class:"custom-page"},{default:s(()=>[e.currentStep===1?(l(),c("div",I,[M,o(e.VInput,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":n[0]||(n[0]=r=>e.form.name=r)},null,8,["modelValue"]),t("div",T,[o(e.VButton,{onClick:e.nextStep,disabled:!e.form.name},{default:s(()=>[a("Siguiente")]),_:1},8,["disabled"])])])):i("",!0),e.currentStep===2?(l(),c("div",w,[F,V(t("textarea",{"onUpdate:modelValue":n[1]||(n[1]=r=>e.form.story=r),required:""},null,512),[[y,e.form.story]]),t("div",P,[o(e.VButton,{onClick:e.prevStep},{default:s(()=>[a("Anterior")]),_:1}),o(e.VButton,{onClick:e.nextStep,disabled:!e.form.story},{default:s(()=>[a("Siguiente")]),_:1},8,["disabled"])])])):i("",!0),e.currentStep===3?(l(),c("div",O,[U,o(e.VInput,{type:"email",modelValue:e.form.email,"onUpdate:modelValue":n[2]||(n[2]=r=>e.form.email=r),placeholder:"ejemplo@email.com"},null,8,["modelValue"]),t("div",W,[o(e.VButton,{onClick:e.prevStep},{default:s(()=>[a("Anterior")]),_:1}),o(e.VButton,{onClick:e.nextStep,disabled:!e.form.email||e.form.email.indexOf("@")===-1||e.form.email.indexOf(".")===-1},{default:s(()=>[a("Siguiente")]),_:1},8,["disabled"])])])):i("",!0),e.currentStep===4&&!e.loading&&!e.successMessage?(l(),c("div",Y,[o(u,null,{default:s(()=>[a("Te enviaremos el cuento al correo electrónico, ¿Quieres suscribirte también a la Newsletter Mensual?")]),_:1}),t("div",j,[o(e.VButton,{onClick:e.submitForm},{default:s(()=>[a("Sí")]),_:1}),o(e.VButton,{onClick:e.submitFormWithoutSubscription},{default:s(()=>[a("No")]),_:1})])])):i("",!0),e.loading?(l(),c("div",q,E)):i("",!0),e.successMessage?(l(),c("div",H,L)):i("",!0),e.errorMessage?(l(),c("div",Q,G)):i("",!0)]),_:1})}const se=C(A,[["render",J],["__scopeId","data-v-2939f7ce"]]);export{se as default};
