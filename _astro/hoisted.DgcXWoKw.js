import"./hoisted.BX_NcoV7.js";document.addEventListener("DOMContentLoaded",()=>{const d=JSON.parse(document.getElementById("story-data").getAttribute("data-story"))??{},o=d.key,r=parseInt(d.time),u=document.getElementById("font-size"),y=document.getElementById("font-size-value"),m=document.getElementById("story-content"),s=document.getElementById("favorite-button");function l(t){y.textContent=`${t}px`,m.style.fontSize=`${t}px`,localStorage.setItem("fontSize",t)}function I(){window.print()}const c=localStorage.getItem("fontSize")||20;u.value=c,l(c);function i(){return JSON.parse(localStorage.getItem("storiesData"))||[]}function a(t){localStorage.setItem("storiesData",JSON.stringify(t))}function S(){let t=i();t.findIndex(n=>n.key===o)===-1&&t.push({key:o,spentTime:0,totalTime:r,finished:!1,like:!1}),a(t)}S();function f(){let t=i(),e=t.findIndex(n=>n.key===o);e!==-1&&t[e].like?s.classList.add("liked"):s.classList.remove("liked")}function p(){let t=i(),e=t.findIndex(n=>n.key===o);e!==-1&&(t[e].like=!t[e].like,a(t),f())}s.addEventListener("click",p);function g(){let t=i(),e=t.findIndex(n=>n.key===o);e!==-1&&(t[e].spentTime+=30,t[e].spentTime>=r&&(t[e].finished=!0),a(t))}setInterval(g,3e4),f(),window.updateFontSize=l,window.printPDF=I});
