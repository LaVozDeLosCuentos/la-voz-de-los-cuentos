import{r as u,o as l,c as h,w as s,f as i,a,e as t,b as n,d as c,g as S,v as V,p as y,h as x}from"./runtime-dom.esm-bundler.Dwqhg9s1.js";import{_ as k,D as C,A as B,a as A,z as D}from"./index-CTPMvAAz.Byc5v-Oq.js";/* empty css                        */const I={__name:"CustomPage",setup(_,{expose:r}){r();const d=u(1),e=u({name:"",story:"",email:"",receiveAll:!0}),p=u(!1),f=u(!1),o=u(!1),v=()=>{d.value<4&&d.value++},g={currentStep:d,form:e,loading:p,successMessage:f,errorMessage:o,nextStep:v,prevStep:()=>{d.value>1&&d.value--},submitFormWithoutSubscription:()=>{e.value.receiveAll=!1},submitForm:async()=>{v(),p.value=!0,f.value=!1,o.value=!1;try{(await fetch("https://script.google.com/macros/s/AKfycbyXxWrBmQDXCDIg5v-bc4YnkDU5YHu43a8HeGVNdoknYDK50bBnLg9gcAbP4Myw14lr/exec",{method:"POST",body:JSON.stringify(e.value),headers:{"Content-Type":"text/plain;charset=utf-8"}})).ok?f.value=!0:o.value=!0}catch{o.value=!0}finally{p.value=!1}},ref:u,get VButton(){return C},get VInput(){return B},get VContainer(){return A},get VText(){return D}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},m=_=>(y("data-v-50d66a6a"),_=_(),x(),_),N={key:0,class:"custom-page-step"},M=m(()=>t("h2",null,"Nombre del protagonista",-1)),T={class:"custom-page-step__buttons"},w={key:1,class:"custom-page-step"},F=m(()=>t("h2",null,[n(" ¿De qué va el cuento? "),t("span",{class:"custom-page-mandatory"},"*")],-1)),P={class:"custom-page-step__buttons"},O={key:2,class:"custom-page-step"},U=m(()=>t("h2",null,"¿Dónde enviarlo?",-1)),W={class:"custom-page-step__buttons"},z={key:3,class:"custom-page-step"},E={class:"custom-page-step__buttons"},Y={key:4,class:"custom-page-loader"},j=m(()=>t("p",null,"Enviando tu petición de cuento mágico...",-1)),q=[j],H={key:5,class:"custom-page-success-message"},K=m(()=>t("p",null,"¡Tu petición se ha enviado con éxito y nos pondremos a ello pronto!",-1)),L=[K],Q={key:6,class:"custom-page-error-message"},X=m(()=>t("p",null," Lo sentimos, hubo un error al crear tu cuento. Por favor, intenta de nuevo. ",-1)),G=[X];function J(_,r,d,e,p,f){return l(),h(e.VContainer,{size:"xs",class:"custom-page"},{default:s(()=>[e.currentStep===1?(l(),i("div",N,[M,a(e.VInput,{"aria-label":"Input para el nombre del protagonista",type:"text",modelValue:e.form.name,"onUpdate:modelValue":r[0]||(r[0]=o=>e.form.name=o)},null,8,["modelValue"]),t("div",T,[a(e.VButton,{onClick:e.nextStep,disabled:!e.form.name},{default:s(()=>[n("Siguiente")]),_:1},8,["disabled"])])])):c("",!0),e.currentStep===2?(l(),i("div",w,[F,S(t("textarea",{"aria-label":"Area de texto para describir el cuento","onUpdate:modelValue":r[1]||(r[1]=o=>e.form.story=o),required:""},null,512),[[V,e.form.story]]),t("div",P,[a(e.VButton,{onClick:e.prevStep},{default:s(()=>[n("Anterior")]),_:1}),a(e.VButton,{onClick:e.nextStep,disabled:!e.form.story},{default:s(()=>[n("Siguiente")]),_:1},8,["disabled"])])])):c("",!0),e.currentStep===3?(l(),i("div",O,[U,a(e.VInput,{"aria-label":"Email para enviar el cuento",type:"email",modelValue:e.form.email,"onUpdate:modelValue":r[2]||(r[2]=o=>e.form.email=o),placeholder:"ejemplo@email.com"},null,8,["modelValue"]),t("div",W,[a(e.VButton,{onClick:e.prevStep},{default:s(()=>[n("Anterior")]),_:1}),a(e.VButton,{onClick:e.nextStep,disabled:!e.form.email||e.form.email.indexOf("@")===-1||e.form.email.indexOf(".")===-1},{default:s(()=>[n("Siguiente")]),_:1},8,["disabled"])])])):c("",!0),e.currentStep===4&&!e.loading&&!e.successMessage?(l(),i("div",z,[a(e.VText,null,{default:s(()=>[n("Te enviaremos el cuento al correo electrónico, ¿Quieres suscribirte también a la Newsletter Mensual?")]),_:1}),t("div",E,[a(e.VButton,{onClick:e.submitForm},{default:s(()=>[n("Sí")]),_:1}),a(e.VButton,{onClick:e.submitFormWithoutSubscription},{default:s(()=>[n("No")]),_:1})])])):c("",!0),e.loading?(l(),i("div",Y,q)):c("",!0),e.successMessage?(l(),i("div",H,L)):c("",!0),e.errorMessage?(l(),i("div",Q,G)):c("",!0)]),_:1})}const ae=k(I,[["render",J],["__scopeId","data-v-50d66a6a"]]);export{ae as default};
