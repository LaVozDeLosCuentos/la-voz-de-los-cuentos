import"./hoisted.9D1P0lox.js";document.addEventListener("DOMContentLoaded",()=>{const o=(JSON.parse(document.getElementById("story-data").getAttribute("data-story"))??{}).key,c=document.getElementById("font-size"),f=document.getElementById("font-size-value"),u=document.getElementById("story-content"),s=document.getElementById("favorite-button");function d(t){f.textContent=`${t}px`,u.style.fontSize=`${t}px`,localStorage.setItem("fontSize",t)}function y(){window.print()}const r=localStorage.getItem("fontSize")||20;c.value=r,d(r);function i(){return JSON.parse(localStorage.getItem("storiesData"))||[]}function a(t){localStorage.setItem("storiesData",JSON.stringify(t))}function m(){let t=i();t.findIndex(n=>n.key===o)===-1&&t.push({key:o,spentTime:0,totalTime:storyTime,finished:!1,like:!1}),a(t)}m();function l(){let t=i(),e=t.findIndex(n=>n.key===o);e!==-1&&t[e].like?s.classList.add("liked"):s.classList.remove("liked")}function S(){let t=i(),e=t.findIndex(n=>n.key===o);e!==-1&&(t[e].like=!t[e].like,a(t),l())}s.addEventListener("click",S);function I(){let t=i(),e=t.findIndex(n=>n.key===o);e!==-1&&(t[e].spentTime+=30,t[e].spentTime>=storyTime&&(t[e].finished=!0),a(t))}setInterval(I,3e4),l(),window.updateFontSize=d,window.printPDF=y});
