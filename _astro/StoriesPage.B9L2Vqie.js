import P from"./Default.DOcsqPq6.js";import{_ as y,z as C,a as T,D as j,A as z}from"./_plugin-vue_export-helper.C81Saoxg.js";import{B as N}from"./Basic.BzoHQhCr.js";import{u as O}from"./stories.DFvJuHsz.js";/* empty css                         */import{o as n,d as S,a as c,w as s,b as l,t as p,u as m,N as A,r as g,q as L,c as _,f as h,e as F,F as B,j as b}from"./runtime-dom.esm-bundler.DaTJXwGp.js";import{u as D}from"./useStories.C4d4hd-K.js";/* empty css                      *//* empty css                         */import"./sagas.CvFQ12-u.js";const Q={__name:"Plain",props:{story:{type:Object,default:{}}},setup(d,{expose:t}){t();const r=d,{getTime:e,getSaga:i}=O(r.story),o=e(),a=i(),u={props:r,getTime:e,getSaga:i,time:o,saga:a,get VText(){return C},get useStory(){return O}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},q=["href"];function E(d,t,r,e,i,o){return n(),S("a",{class:"plain-card",href:`/cuento/${r.story.key}/`},[c(e.VText,{ellipsis:"",class:"plain-card__element"},{default:s(()=>[l(p(r.story.name),1)]),_:1}),c(e.VText,{ellipsis:"",class:"plain-card__element"},{default:s(()=>[l(p(e.saga),1)]),_:1}),c(e.VText,{ellipsis:"",class:"plain-card__element"},{default:s(()=>[l(p(e.time),1)]),_:1})],8,q)}const U=y(Q,[["render",E],["__scopeId","data-v-fdc6d600"]]),G={__name:"ListIcon",props:{active:{type:Boolean,default:!1}},setup(d,{expose:t}){t();const r={};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},J=A('<g data-v-98dac262><g data-v-98dac262><path d="M232.1,198.4L232.1,198.4L232.1,198.4L232.1,198.4z" data-v-98dac262></path><path d="M81.1,24.9H25.2c-8.4,0-15.2,6.8-15.2,15.2v55.9c0,8.4,6.8,15.2,15.2,15.2h55.9c8.4,0,15.2-6.8,15.2-15.2V40.2C96.4,31.8,89.5,24.9,81.1,24.9 M81.8,40.2v55.9c0,0.4-0.3,0.7-0.7,0.7H25.3c-0.4,0-0.7-0.3-0.7-0.7V40.2c0-0.4,0.3-0.7,0.7-0.7h55.9C81.5,39.5,81.8,39.8,81.8,40.2" data-v-98dac262></path><path d="M81.1,144.7H25.2c-8.4,0-15.2,6.8-15.2,15.2v55.9c0,8.4,6.8,15.2,15.2,15.2h55.9c8.4,0,15.2-6.8,15.2-15.2v-55.9C96.4,151.5,89.5,144.7,81.1,144.7 M81.8,159.9v55.9c0,0.4-0.3,0.7-0.7,0.7H25.3c-0.4,0-0.7-0.3-0.7-0.7v-55.9c0-0.4,0.3-0.7,0.7-0.7h55.9C81.5,159.2,81.8,159.5,81.8,159.9" data-v-98dac262></path><path d="M130.3,45.2c0.2,0.1,0.5,0.2,0.7,0.2h0.5c0.1,0,0.3,0,0.4,0h106c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0h0.4c0.2,0,0.4-0.1,0.6-0.2c3.5-0.6,6-3.6,6-7.1c0-3.4-2.5-6.4-5.9-7c-0.2-0.2-0.5-0.3-0.8-0.3H131c-0.3,0-0.5,0.1-0.7,0.3c-3.3,0.7-5.8,3.6-5.8,7C124.5,41.6,126.9,44.5,130.3,45.2" data-v-98dac262></path><path d="M130.2,99c0.2,0.2,0.5,0.3,0.8,0.3h107.8c0.3,0,0.5-0.1,0.7-0.3c3.4-0.6,5.9-3.6,5.9-7c0-3.5-2.6-6.5-6-7.1c-0.2-0.1-0.4-0.2-0.6-0.2l-0.2,0c-0.2,0-0.4,0-0.7,0l-105.8,0c-0.2,0-0.4,0-0.7,0H131c-0.2,0-0.4,0.1-0.7,0.2c-3.4,0.7-5.9,3.6-5.9,7C124.5,95.4,126.9,98.3,130.2,99" data-v-98dac262></path><path d="M130.2,170.9c0.2,0.2,0.5,0.3,0.8,0.3h107.8c0.1,0,0.2,0,0.3,0c3.8-0.2,6.9-3.3,6.9-7.3c0-4-3.3-7.3-7.3-7.3c0,0-0.1,0-0.2,0H131.9c-0.1,0-0.2,0-0.4,0H131c-0.2,0-0.5,0.1-0.7,0.2c-3.4,0.7-5.9,3.6-5.9,7C124.5,167.3,126.9,170.1,130.2,170.9" data-v-98dac262></path><path d="M239.2,204.6c-0.1,0-0.3-0.1-0.5-0.1H131c-0.3,0-0.6,0.1-0.7,0.3c-3.3,0.7-5.8,3.6-5.8,7c0,3.4,2.5,6.4,5.9,7c0.2,0.1,0.4,0.2,0.6,0.2l0.2,0c0.1,0,0.2,0,0.7,0l106.3,0c0.1,0,0.4,0.1,0.5,0.1c4,0,7.3-3.3,7.3-7.3C246,208,243,204.9,239.2,204.6" data-v-98dac262></path></g></g>',1),K=[J];function R(d,t,r,e,i,o){return n(),S("svg",{class:m(["list-icon",{"list-icon--active":r.active}]),xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 256 256","enable-background":"new 0 0 256 256","xml:space":"preserve"},K,2)}const W=y(G,[["render",R],["__scopeId","data-v-98dac262"]]),X={__name:"FilteredStories",setup(d,{expose:t}){t();const{getAllStories:r}=D(),e=r(),i=g(""),o=g("date"),a=g("asc"),u=g(!1),I=f=>{o.value===f?w():o.value=f},w=()=>{a.value=a.value==="asc"?"desc":"asc"},M=()=>{u.value=!u.value},H=L(()=>{let f=e;if(i.value){const v=i.value.toLowerCase();f=f.filter(V=>V.name.toLowerCase().includes(v))}return f.slice().sort((v,V)=>{let x=0;return o.value==="date"?x=new Date(v.date)-new Date(V.date):o.value==="time"?x=parseInt(v.time)-parseInt(V.time):o.value==="name"&&(x=v.name.localeCompare(V.name)),a.value==="asc"?x:-x})}),k={getAllStories:r,stories:e,searchQuery:i,sortOrder:o,sortDirection:a,isListView:u,setSortOrder:I,toggleSortDirection:w,toggleViewMode:M,filteredAndSortedStories:H,get VContainer(){return T},get VButton(){return j},get VText(){return C},get VInput(){return z},ref:g,computed:L,BasicCard:N,PlainCard:U,ListIcon:W,get useStories(){return D}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}},Y={class:"sections-filtered"};function Z(d,t,r,e,i,o){return n(),S("div",Y,[c(e.VContainer,{class:"sections-filtered__search-bar",size:"xs"},{default:s(()=>[c(e.VInput,{type:"text",modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),placeholder:"Buscar cuento...",class:"search-input"},null,8,["modelValue"])]),_:1}),c(e.VContainer,{class:"sections-filtered__bar",size:"xs"},{default:s(()=>[c(e.VButton,{variant:"text",class:m({active:e.sortOrder==="date"}),onClick:t[1]||(t[1]=a=>e.setSortOrder("date"))},{default:s(()=>[l(" Fecha "),e.sortOrder==="date"?(n(),_(e.VText,{key:0},{default:s(()=>[l(p(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),c(e.VButton,{variant:"text",class:m({active:e.sortOrder==="time"}),onClick:t[2]||(t[2]=a=>e.setSortOrder("time"))},{default:s(()=>[l(" Duración "),e.sortOrder==="time"?(n(),_(e.VText,{key:0},{default:s(()=>[l(p(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),c(e.VButton,{variant:"text",class:m({active:e.sortOrder==="name"}),onClick:t[3]||(t[3]=a=>e.setSortOrder("name"))},{default:s(()=>[l(" Nombre "),e.sortOrder==="name"?(n(),_(e.VText,{key:0},{default:s(()=>[l(p(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),c(e.VButton,{variant:"text",class:m({active:e.isListView}),onClick:e.toggleViewMode},{default:s(()=>[c(e.ListIcon,{active:!e.isListView},null,8,["active"])]),_:1},8,["class"])]),_:1}),F("div",{class:m(["sections-filtered__content",{"list-view":e.isListView}])},[e.isListView?h("",!0):(n(!0),S(B,{key:0},b(e.filteredAndSortedStories,a=>(n(),_(e.BasicCard,{slug:a.key,key:a.key,title:a.name,time:parseInt(a.time),isStory:""},null,8,["slug","title","time"]))),128)),e.isListView?(n(),_(e.VContainer,{key:1,class:"sections-filtered__content-list"},{default:s(()=>[(n(!0),S(B,null,b(e.filteredAndSortedStories,a=>(n(),_(e.PlainCard,{key:a.key,story:a},null,8,["story"]))),128))]),_:1})):h("",!0)],2)])}const $=y(X,[["render",Z],["__scopeId","data-v-01172c7d"]]),ee={__name:"StoriesPage",props:{story:{type:Object,default:{}}},setup(d,{expose:t}){t();const e={props:d,SectionsDefault:P,FilteredStories:$,get VText(){return C},get VContainer(){return T}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}};function te(d,t,r,e,i,o){return n(),_(e.VContainer,{size:"xl",class:"stories-page"},{default:s(()=>[c(e.VText,{class:"stories-page__title",as:"h1",variant:"header"},{default:s(()=>[l("Listado de Cuentos")]),_:1}),c(e.SectionsDefault,null,{default:s(()=>[c(e.FilteredStories)]),_:1})]),_:1})}const ue=y(ee,[["render",te]]);export{ue as default};
